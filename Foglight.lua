local AceHook = LibStub("AceHook-3.0")

local ZGV=ZygorGuidesViewer
if not ZGV then return end

local Foglight = {}
ZGV.Foglight = Foglight


function Foglight:Startup()
	if ZGV.db.profile.foglight then
		Foglight:ShowOverlay()
	end
end

function Foglight:ShowOverlay()
	if ZGV.IsDataProviderRegistered(WorldMapFrame,Foglight.DataProvider.name) then return end
	WorldMapFrame:AddDataProvider(ZGV.Foglight.DataProvider)
end

function Foglight:HideOverlay()
	if not ZGV.IsDataProviderRegistered(WorldMapFrame,Foglight.DataProvider.name) then return end
	WorldMapFrame:RemoveDataProvider(ZGV.Foglight.DataProvider)
end

function Foglight:ToggleOverlay()
	if ZGV.IsDataProviderRegistered(WorldMapFrame,Foglight.DataProvider.name) then 
		WorldMapFrame:RemoveDataProvider(ZGV.Foglight.DataProvider)
	else
		WorldMapFrame:AddDataProvider(ZGV.Foglight.DataProvider)
		-- todo - get a better fix for overlays not showing if provider is added while map frame is visible.
		-- no, RefreshAllData is not working
		if WorldMapFrame:IsVisible() then
			local map = WorldMapFrame:GetMapID()
			if map then
				WorldMapFrame:Hide()
				OpenWorldMap(map)
			end
		end
	end
end


Foglight.DataProvider = CreateFromMixins(MapCanvasDataProviderMixin);

Foglight.DataProvider.data = {
	[1] = { -- Durotar
	    {{271443,440585},254,258,304,312},
	    {{271435,271442},259,165,309,0},
	    {{271426},192,184,457,406},
	    {{271428},236,196,415,60},
	    {{440584},244,222,282,174},
	    {{271422},248,158,302,264},
	    {{271439},220,218,295,48},
	    {{271437,440582},330,255,429,413},
	    {{271440},210,200,462,298},
	    {{271421},224,227,431,157},
	    {{},0,0,0,0},
	    {{271427},208,157,438,0},
	    {{440583},162,157,399,440},
	},
	[7] = { -- Mulgore
	    {{272169},186,185,514,43},
	    {{272168,272165,457471,457472},446,264,286,401},
	    {{272185},187,165,435,224},
	    {{457473},237,184,201,0},
	    {{272177},186,216,448,101},
	    {{272170,457474},260,243,527,291},
	    {{272186,457475},208,300,530,138},
	    {{272187,272171,457476,457477},373,259,208,62},
	    {{272178},201,167,333,202},
	    {{272172},190,172,331,0},
	    {{272179},222,202,400,0},
	    {{272180},174,185,449,340},
	    {{},0,0,0,0},
	    {{272181},218,192,226,220},
	    {{272173,457470},302,223,319,273},
	    {{272176},172,205,248,321},
	},
	[10] = { -- Northern Barrens
	    {{270584},243,217,448,127},
	    {{270569,438215},207,332,555,129},
	    {{438216,438217},261,216,258,6},
	    {{438227,438228,438229,438230},377,325,152,318},
	    {{270574},239,231,481,254},
	    {{},0,0,0,0},
	    {{270573,438222},315,212,556,456},
	    {{270559},233,193,362,275},
	    {{270565,438224,438225,438226},336,289,344,379},
	    {{270585},219,175,547,379},
	    {{270560,438221},446,256,100,208},
	    {{270572,438218,438219,438220},283,270,116,57},
	    {{270554},241,195,290,104},
	    {{270564,438223},257,249,403,6},
	    {{270553,438214},278,209,511,7},
	},
	[14] = { -- Arathi Highlands
	    {{270361,438170,438171,438172},273,268,77,400},
	    {{270358,438181,438182,438183},284,306,21,269},
	    {{270349,438167},249,278,171,123},
	    {{270351,438179},227,268,132,105},
	    {{270347,438168},220,287,85,24},
	    {{270346},228,227,201,312},
	    {{270348},237,252,261,416},
	    {{438169},215,188,332,273},
	    {{438173,438174},212,305,0,144},
	    {{270342,438166},252,258,327,367},
	    {{270352,438180},196,270,293,145},
	    {{270353,438184},260,220,476,359},
	    {{270343,438175},306,248,430,249},
	    {{270350},210,227,404,144},
	    {{270360},183,238,506,126},
	    {{270336,438176,438177,438178},270,271,581,118},
	},
	[15] = { -- Badlands
	    {{442232,442233,442234,442235},328,313,175,178},
	    {{},0,0,0,0},
	    {{270522,270550,270528,270536},342,353,230,315},
	    {{270540,270527,442226,442227},274,448,407,220},
	    {{442238,442239},266,210,336,0},
	    {{270525,270521},214,285,144,99},
	    {{270534,270551,270546,270535,442236,442237},469,613,533,55},
	    {{270532},209,196,411,116},
	    {{270530,442231},236,260,504,19},
	    {{270520,442228,442229,442230},339,347,0,281},
	    {{270529,442225},252,353,0,66},
	    {{270543,442224},285,223,230,68},
	},
	[17] = { -- Blasted Lands
	    {{1085244},199,191,333,474				,phase="newblastedlands"},
	    {{1085245,1085246,1085247,1085248},370,298,368,179	,phase="newblastedlands"},
	    {{1085249,1085250,1085251,1085252},268,354,533,268	,phase="newblastedlands"},
	    {{1085253,1085254,1085255,1085256},348,357,132,311	,phase="newblastedlands"},
	    {{1085257,1085258},308,226,144,175			,phase="newblastedlands"},
	    {{1085238},168,170,375,102				,phase="newblastedlands"},
	    {{1085242,1085243},233,266,386,374			,phase="newblastedlands"},
	    {{1085240,1085241},240,270,578,91			,phase="newblastedlands"},
	    {{1085239},218,183,459,97				,phase="newblastedlands"},
	    {{1085237},195,199,436,0				,phase="newblastedlands"},
	    {{1085235,1085236},295,205,530,6			,phase="newblastedlands"},
	    {{1085234},235,188,327,182				,phase="newblastedlands"},
	    {{1085232,1085233},272,206,258,0			,phase="newblastedlands"},
	    {{1085231},238,195,225,110				,phase="newblastedlands"},

	    {{391435,438231},272,206,258,0			,phase="oldblastedlands"},
	    {{391432,438232},295,205,530,6			,phase="oldblastedlands"},
	    {{391430},218,183,459,97				,phase="oldblastedlands"},
	    {{391425},238,195,225,110				,phase="oldblastedlands"},
	    {{391434},235,188,327,182				,phase="oldblastedlands"},
	    {{391429,391428},308,226,144,175			,phase="oldblastedlands"},
	    {{438247,438248,438249,438250},348,357,132,311	,phase="oldblastedlands"},
	    {{438243,438244,438245,438246},268,354,533,268	,phase="oldblastedlands"},
	    {{438239,438240,438241,438242},370,298,368,179	,phase="oldblastedlands"},
	    {{438238},199,191,333,474				,phase="oldblastedlands"},
	    {{438236,438237},233,266,386,374			,phase="oldblastedlands"},
	    {{438234,438235},240,270,578,91			,phase="oldblastedlands"},
	    {{438233},195,199,436,0				,phase="oldblastedlands"},
	    {{391431},168,170,375,102				,phase="oldblastedlands"},
	},
	[18] = { -- Tirisfal Glades
	    {{440931,440932,440933,440934},293,338,709,330},
	    {{440926,440927,440928,440929},262,262,740,47},
	    {{440922,440923,440924,440925},390,267,423,359},
	    {{440917},179,169,389,255},
	    {{273001,440918,440919,440920},431,407,9,207},
	    {{273017,440930},286,225,201,192},
	    {{273019,440914,440915,440916},285,260,324,90},
	    {{272999,440935},250,279,752,150},
	    {{},0,0,0,0},
	    {{272996},161,234,692,99},
	    {{273000},175,210,686,232},
	    {{273006},242,179,594,324},
	    {{273009,273002},210,292,573,122},
	    {{273020},190,214,477,129},
	    {{273015},199,182,480,252},
	    {{273016},212,177,418,317},
	    {{273003,440921},225,281,347,325},
	},
	[21] = { -- Silverpine Forest
	    {{},0,0,0,0},
	    {{272610},227,172,236,0},
	    {{272600,440729,440730,440731},352,302,581,15},
	    {{272620},218,200,341,157},
	    {{272598},217,198,483,212},
	    {{272616},251,167,312,249},
	    {{272614,440725},283,243,509,250},
	    {{272613},179,165,337,337},
	    {{272609,440743},409,162,318,506},
	    {{272599,440726,440727,440728},318,263,505,405},
	    {{440732,440733},361,175,445,0},
	    {{440734},186,238,369,0},
	    {{440744},162,172,461,77},
	    {{440742},152,189,433,327},
	    {{440741},176,152,471,156},
	    {{440740},255,180,349,429},
	    {{440736,440737,440738,440739},281,345,147,0},
	    {{440735},174,199,323,68},
	},
	[22] = { -- Western Plaguelands
	    {{273119,273092,273112,273093},492,314,510,354},
	    {{273107},194,208,601,390},
	    {{273108,273101},368,220,261,448},
	    {{273120,441020,441021,441022},316,316,48,235},
	    {{273113},241,212,229,228},
	    {{273102},169,195,472,332},
	    {{441018,441019},290,133,286,211},
	    {{441015,441016},325,192,300,232},
	    {{441011,441012,441013,441014},464,325,96,343},
	    {{273114,441017},359,182,231,123},
	    {{273095,273111,273100,273090},432,271,235,0},
	    {{273094},241,252,495,213},
	    {{273121},185,230,551,151},
	    {{273122,273103,441023,441024},311,436,533,0},
	    {{},0,0,0,0},
	},
	[23] = { -- Eastern Plaguelands
	    {{271523},238,231,382,151},
	    {{442674,442675},228,273,774,102},
	    {{442692,442693},182,320,383,348},
	    {{271536,442688},274,216,183,211},
	    {{271522,442685,442686,442687},258,320,0,10},
	    {{271529,442684},310,178,118,0},
	    {{271551},202,202,133,335},
	    {{271537,442689,442690,442691},297,299,650,55},
	    {{271543,271530},177,266,595,263},
	    {{271512,442694},280,211,56,457},
	    {{271538,271513,442695,442696,442697,442698},262,526,0,100},
	    {{271553},214,254,651,414},
	    {{271554,442699},286,176,528,0},
	    {{442680,442681,442682,442683},264,373,738,295},
	    {{271535,442679},277,175,351,0},
	    {{271518,271527},328,253,144,40},
	    {{271521},250,192,401,69},
	    {{271520,442678},265,232,570,61},
	    {{442677},243,162,391,271},
	    {{271533},196,220,687,271},
	    {{271532,442676},266,241,462,427},
	    {{271542},181,176,541,184},
	    {{271514},248,206,211,462},
	    {{271548},202,191,258,351},
	    {{271544},186,213,493,289},
	    {{},0,0,0,0},
	},
	[25] = { -- Hillsbrad Foothills
	    {{450651,450652},302,175,191,302},
	    {{},0,0,0,0},
	    {{450679},212,160,441,0},
	    {{450678},105,148,390,255},
	    {{450677},165,203,494,226},
	    {{450675,450676},275,193,505,44},
	    {{450674},229,219,383,352},
	    {{450672,450673},312,254,59,310},
	    {{450671},148,146,484,166},
	    {{450670},148,120,413,55},
	    {{450628},180,182,287,399},
	    {{450629,450630,450631,450632},447,263,555,68},
	    {{450633},135,160,426,224},
	    {{450634},134,124,463,101},
	    {{450635,450636},316,238,102,137},
	    {{450637,450638},258,113,341,0},
	    {{450639},147,160,425,279},
	    {{450640,450641,450642,450643},269,258,542,410},
	    {{450644,450645,450646,450647},437,451,565,217},
	    {{450648},155,147,451,140},
	    {{450649},116,129,344,254},
	    {{450650},171,136,359,191},
	    {{450665},250,167,194,216},
	    {{450666},158,169,321,42},
	    {{450669},189,181,347,85},
	    {{450668},144,139,200,505},
	    {{450667},204,244,502,373},
	},
	[26] = { -- The Hinterlands
	    {{440603},226,225,152,284},
	    {{},0,0,0,0},
	    {{271917,440597},238,267,0,236},
	    {{271927,440600},191,278,133,105},
	    {{271928},241,211,220,181},
	    {{271937},240,196,220,379},
	    {{271934},199,212,286,269},
	    {{271910},208,204,367,159},
	    {{271929},199,199,390,252},
	    {{271922},225,196,357,343},
	    {{271908,271935,271936,271909},303,311,475,5},
	    {{271933},176,235,490,195},
	    {{271915,271921,440601,440602},281,261,565,208},
	    {{271912,271920,440598,440599},287,289,487,334},
	    {{271938,271916},244,401,677,267},
	},
	[27] = { -- Dun Morogh
	    {{},0,0,0,0},
	    {{438341,438342,438343,438344},398,302,100,366},
	    {{271406,438340},225,276,360,340},
	    {{271400},211,160,374,287},
	    {{271417},184,188,449,220},
	    {{271389},249,183,595,225},
	    {{271409},218,234,760,268},
	    {{271408},198,251,663,288},
	    {{271398,438347},437,249,50,227},
	    {{438345,438346},226,335,469,256},
	    {{438348,438349,438350,438351},409,318,0,27},
	    {{438354,438355,438356,438357},308,335,630,0},
	    {{271410,271396,438352,438353},376,347,398,0},
	    {{445524},171,234,397,132},
	    {{271392,442671},236,358,263,0},
	    {{271401},174,249,579,306},
	    {{442672,442673},237,366,765,43},
	},
	[32] = { -- Searing Gorge
	    {{},0,0,0,0},
	    {{450692,450693,450694,450695},429,301,255,38},
	    {{254529,254530,254531,254532},481,360,232,171},
	    {{450684,450685,450686,450687},441,266,531,241},
	    {{254527,254528,450688,450689,450690,450691},571,308,413,360},
	    {{254509,254510,254511,254512},365,393,0,75},
	    {{254505,254506,254507,254508},392,355,588,0},
	    {{450682,450683},304,244,243,424},
	    {{254503,254504,450680,450681},375,307,0,361},
	},
	[36] = { -- Burning Steppes
	    {{},0,0,0,0},
	    {{270944,270910,270935,270945},350,341,646,7},
	    {{270933,270943,270921,270928},274,413,253,255},
	    {{270938,455906},182,360,0,0},
	    {{270919,270911,455907,455908},281,388,79,0},
	    {{270920,270914,270908,270929},298,410,419,258},
	    {{270912,270909,455909,455910},320,385,235,0},
	    {{270941,270925,270926,270917},362,431,0,237},
	    {{270927,455911,455912,455913},274,263,568,151},
	    {{270906,270918,270936,270942},383,413,615,255},
	    {{270922,270934,270923,270937},324,354,421,0},
	},
	[37] = { -- Elwynn Forest
	    {{438421,438422,438423,438424},512,422,0,0},
	    {{438426,438427,438428,438429},269,313,116,355},
	    {{271584,271565,438419,438420},340,272,552,186},
	    {{},0,0,0,0},
	    {{271560},220,207,417,327},
	    {{271557,271583},285,194,708,442},
	    {{271578,438413},294,243,703,292},
	    {{271559,438412},287,216,532,424},
	    {{271573,438425},270,241,529,287},
	    {{271582},230,206,396,430},
	    {{271572,438416,438417,438418},295,296,355,138},
	    {{271576,438414},269,248,240,420},
	    {{271567,438415},276,231,247,294},
	},
	[42] = { -- Deadwind Pass
	    {{271075,271076,271080,271081,440573,440574,440575,440576,440577},617,522,83,0},
	    {{271095,271079,440578,440579,440580,440581},513,358,92,310},
	    {{271092,271085,271086,271089},350,449,433,208},
	},
	[47] = { -- Duskwood
	    {{271453,271454},189,307,0,152},
	    {{271444,271483,438377,438378},299,296,32,348},
	    {{271473,271463,271467,271464},323,309,91,132},
	    {{},0,0,0,0},
	    {{271448,271456,438391,438392},268,282,228,355},
	    {{271449},233,248,401,396},
	    {{438387,438388,438389,438390},320,388,314,101},
	    {{438385,438386},291,244,627,344},
	    {{438381},205,157,96,292},
	    {{271470,271477,438379,438380},279,399,497,112},
	    {{271455,438382,438383,438384},291,263,539,368},
	    {{271471,271461,271450,271451},329,314,640,128},
	    {{271466},219,182,661,122},
	    {{271481,271460,271474,271468},931,235,71,26},
	},
	[48] = { -- Loch Modan
	    {{},0,0,0,0},
	    {{440642,440643},333,200,339,0},
	    {{252899,440647,440648,440649},310,345,0,311},
	    {{252886,252887,440640,440641},273,294,177,345},
	    {{252898,440644,440645,440646},455,295,0,146},
	    {{252862,252863},273,230,245,324},
	    {{252866,252867,440636,440637},397,291,481,296},
	    {{252890,252891,252892,252893},349,292,570,209},
	    {{252882,252883,440638,440639},319,289,16,0},
	    {{252884},225,252,221,0},
	    {{252894,252895,252896,252897},330,474,340,81},
	    {{252880,252881},294,249,549,52},
	},
	[49] = { -- Redridge Mountains
	    {{272344,272354,272350,272339},392,352,148,316},
	    {{272364,272348,272358,272359},323,406,0,256},
	    {{272335,272343},464,250,81,214},
	    {{272351,272340},410,256,0,110},
	    {{},0,0,0,0},
	    {{272362,272356,440664,440665},413,292,37,0},
	    {{272357,272342},357,246,214,0},
	    {{272334},228,247,350,139},
	    {{272369,272363,440666,440667},427,291,451,377},
	    {{272347,272371},316,182,525,302},
	    {{440672,440673},228,420,480,0},
	    {{440668,440669,440670,440671},306,324,688,283},
	    {{440660},189,193,445,286},
	    {{272372,440661,440662,440663},428,463,574,0},
	},
	[50] = { -- Northern Stranglethorn
	    {{},0,0,0,0},
	    {{440801,440802,440803,440804},350,259,488,364},
	    {{440813,440814,440815,440816,440817,440818},376,560,626,0},
	    {{440799},244,238,499,0},
	    {{440808,440809},302,166,306,0},
	    {{440807},227,190,306,63},
	    {{440810,440811},228,265,158,0},
	    {{440812},236,224,140,208},
	    {{440793},159,137,267,168},
	    {{440798},139,150,354,184},
	    {{440800},240,228,413,95},
	    {{440806},234,206,543,253},
	    {{440797},167,179,298,228},
	    {{440805},157,173,387,246},
	    {{440794},239,205,397,243},
	    {{440819,440820,440821,440822},324,263,9,22},
	    {{440796},230,170,398,375},
	    {{440795},190,176,566,164},
	},
	[51] = { -- Swamp of Sorrows
	    {{272740,272773,442715,442716},347,303,540,360},
	    {{442700,442701},262,193,600,0},
	    {{272742,272751,272752,272764},357,308,297,258},
	    {{272747,272763},238,343,194,236},
	    {{272739,272746},229,418,703,80},
	    {{272772,272760},257,229,575,238},
	    {{},0,0,0,0},
	    {{272759,272750,442713,442714},268,285,0,80},
	    {{272756,272737,272769,442710,442711,442712},402,668,600,0},
	    {{272736,442717,442718,442719},266,284,161,79},
	    {{272768,272770,442720,442721},292,360,331,24},
	    {{442706,442707,442708,442709},330,342,478,0},
	    {{442702,442703,442704,442705},268,316,7,242},
	},
	[52] = { -- Westfall
	    {{},0,0,0,0},
	    {{441026},196,229,311,0},
	    {{441034},184,217,294,168},
	    {{273131,273134,441032,441033},317,261,480,378},
	    {{273124,441028,441029,441030},292,273,303,395},
	    {{273141},211,167,221,477},
	    {{273142},201,195,203,376},
	    {{273129,273133},346,222,167,263},
	    {{273130},232,213,308,325},
	    {{273137,441027},229,265,404,226},
	    {{273125,441031},193,273,531,200},
	    {{273149,441025},235,306,199,79},
	    {{273126},202,224,348,118},
	    {{273143},202,179,474,0},
	    {{273145},197,213,394,0},
	    {{273146},244,237,451,81},
	},
	[56] = { -- Wetlands
	    {{273156,441044,441045,441046},325,363,0,297},
	    {{273163,441035},301,232,37,240},
	    {{273171,441036},321,248,31,102},
	    {{273155,441055,441056,441057},298,447,185,195},
	    {{273178,273167},276,243,121,63},
	    {{273173},185,224,372,76},
	    {{273164,441041},257,185,356,7},
	    {{273159},236,256,359,201},
	    {{273174,441054},258,207,371,335},
	    {{273177,441047},369,235,506,232},
	    {{273181},256,245,599,123},
	    {{},0,0,0,0},
	    {{441037,441038},329,228,506,34},
	    {{441039,441040},298,215,346,419},
	    {{441042,441043},250,269,460,102},
	    {{441048,441049},250,282,218,0},
	    {{441050,441051,441052,441053},300,316,532,352},
	},
	[57] = { -- Teldrassil
	    {{440835,440836},317,220,329,448},
	    {{440837},144,226,432,109},
	    {{440833},178,186,466,237},
	    {{},0,0,0,0},
	    {{272822},165,249,382,83},
	    {{272830},194,244,276,90},
	    {{272815},187,196,544,217},
	    {{272811},241,217,481,104},
	    {{272807},140,210,345,243},
	    {{272810,440834},289,202,422,310},
	    {{272814},198,181,347,355},
	    {{272826},175,235,374,221},
	    {{272806,272812,440831,440832},298,337,149,181},
	},
	[62] = { -- Darkshore
	    {{271044,438263},303,185,277,483},
	    {{271045,438251},326,145,294,330},
	    {{271043,438260},200,263,517,28},
	    {{},0,0,0,0},
	    {{438266,438267},328,250,305,118},
	    {{438264,438265},314,193,280,378},
	    {{438252,438253},330,192,300,239},
	    {{438262},245,147,565,0},
	    {{438254,438255,438256,438257},277,281,391,54},
	    {{438258},244,201,207,467},
	    {{438259},203,194,280,182},
	    {{438261},250,241,596,16},
	    {{2175173,2175174,2175175,2175176},453,340,0,0},
	},
	[63] = { -- Ashenvale
	    {{270376,437333,437334,437335},262,390,0,0},
	    {{270380},184,232,112,148},
	    {{270389,437336},314,241,255,78},
	    {{270386,437312},251,271,255,164},
	    {{270398,437328},236,271,210,331},
	    {{270400,437327},325,239,473,97},
	    {{270402},231,256,481,221},
	    {{270375,437313,437314,437315},287,276,529,385},
	    {{270401,437321},221,257,595,253},
	    {{},0,0,0,0},
	    {{270388},235,236,696,154},
	    {{270387},166,211,836,148},
	    {{270390},231,223,771,265},
	    {{270405,437316,437317,437318},277,333,714,317},
	    {{437319,437320},246,361,188,0},
	    {{437322},244,251,143,0},
	    {{437323,437324,437325,437326},347,308,338,335},
	    {{437329,437330,437331,437332},306,283,40,275},
	    {{437337,437338},203,310,377,121},
	},
	[64] = { -- Thousand Needles
	    {{442249},234,203,527,465},
	    {{272962,442240},317,252,169,116},
	    {{272954,442241,442242,442243},436,271,276,186},
	    {{272968,442244},246,380,0,134},
	    {{442245,442246,442247,442248},361,314,298,0},
	    {{442250},246,256,756,412},
	    {{442251,442252,442253,442254},431,410,571,49},
	    {{272963,442255},272,232,136,0},
	    {{442256,442257,442258,442259},411,411,591,257},
	    {{442260,442261,442262,442263},374,339,347,329},
	    {{442264,442265,442266,442267},358,418,125,241},
	    {{442268,442269,442270,442271},280,325,0,0},
	    {{},0,0,0,0},
	},
	[65] = { -- Stonetalon Mountains
	    {{},0,0,0,0},
	    {{440764,440765,440766,440767},290,297,220,189},
	    {{440768},241,192,366,95},
	    {{440769,440770},322,220,602,448},
	    {{440771},183,196,588,341},
	    {{440772},221,235,367,411},
	    {{440773},210,189,252,121},
	    {{440776,440777},265,206,654,369},
	    {{272632,272641},305,244,265,0},
	    {{272624},244,247,417,143},
	    {{272633,272647,440774,440775},277,274,199,368},
	    {{272646},222,222,353,285},
	    {{272630,272649,272642,272636},374,287,533,179},
	    {{272628},194,156,532,512},
	    {{272648,272634,272635,272623},267,352,468,263},
	    {{272650},211,131,618,537},
	    {{440778,440779},164,258,479,401},
	    {{440780},176,189,516,289},
	},
	[66] = { -- Desolace
	    {{271126,438336},274,145,399,0},
	    {{271114,438320},231,257,573,0},
	    {{271104,271124,438322,438323},317,293,655,0},
	    {{271111},220,205,440,49},
	    {{271106,271129,438338,438339},321,275,170,196},
	    {{271127},250,215,360,273},
	    {{271125,438327},222,299,142,369},
	    {{271122,438317},274,196,207,472},
	    {{271108,271112,271113,271109},326,311,381,357},
	    {{271105,438324,438325,438326},292,266,637,402},
	    {{},0,0,0,0},
	    {{438313,438314,438315,438316},312,285,415,156},
	    {{438318,438319},289,244,613,170},
	    {{438321},161,141,210,0},
	    {{438328,438329,438330,438331},309,349,589,319},
	    {{438332,438333,438334,438335},338,342,208,24},
	    {{438337},212,186,275,376},
	},
	[69] = { -- Feralas
	    {{},0,0,0,0},
	    {{440586},172,198,568,287},
	    {{440590},217,192,362,237},
	    {{440591},191,179,457,281},
	    {{440592},159,218,607,170},
	    {{440593},208,204,186,229},
	    {{271705,271686,440594,440595},350,334,271,0},
	    {{271700,271682},194,304,375,343},
	    {{271687,440587,440588,440589},265,284,485,101},
	    {{271699},206,237,467,354},
	    {{271675},174,220,671,181},
	    {{271696},192,157,663,116},
	    {{271680},207,209,756,191},
	    {{440596},232,206,652,298},
	},
	[70] = { -- Dustwallow Marsh
	    {{656230,656231,656232,656233},270,353,428,0},
	    {{656226,656227,656228,656229},436,299,359,369},
	    {{656224,656225},305,247,542,223},
	    {{656222,656223},317,230,137,188},
	    {{656218,656219,656220,656221},433,351,109,313},
	    {{656202,656203,656204,656205},279,301,358,169},
	    {{656200,656201},384,249,133,59},
	    {{656198,656199},344,183,199,0},
	    {{656197},206,200,656,21},
	    {{},0,0,0,0},
	    {{438401,438402,438403,438404},433,351,109,313},
	    {{438397,438398,438399,438400},279,301,358,169},
	    {{438405,438406},317,230,137,188},
	    {{438393,438394},344,183,199,0},
	    {{271500,438407},305,247,542,223},
	    {{271507,271504,438410,438411},270,353,428,0},
	    {{438395,438396},384,249,133,59},
	    {{271503,271509,438408,438409},436,299,359,369},
	    {{271494},206,200,656,21},
	},
	[71] = { -- Tanaris
	    {{440823,440824},254,341,479,9},
	    {{440825},178,243,615,201},
	    {{440828,440829},269,190,255,431},
	    {{272800},195,163,413,211},
	    {{272792},179,190,258,211},
	    {{272782},231,177,305,257},
	    {{},0,0,0,0},
	    {{272799},255,194,297,148},
	    {{272795,440826},274,186,437,289},
	    {{272805},225,187,448,364},
	    {{272798},173,163,380,341},
	    {{272789},213,173,507,238},
	    {{272774},189,180,412,92},
	    {{272801},224,216,431,452},
	    {{272784},232,211,301,349},
	    {{272776},214,149,293,99},
	    {{272788,440830},315,190,184,0},
	    {{272781,440827},221,293,185,280},
	},
	[76] = { -- Azshara
	    {{},0,0,0,0},
	    {{438209},184,213,353,396},
	    {{438208},207,232,407,403},
	    {{438207},219,193,575,121},
	    {{438200,438201,438202,438203},352,274,22,344},
	    {{438199},250,230,70,222},
	    {{438197,438198},243,262,343,3},
	    {{270412,438210},206,329,316,168},
	    {{270432,438192},321,247,477,0},
	    {{438193,438194,438195,438196},260,267,204,53},
	    {{270434,438211,438212,438213},306,337,684,22},
	    {{438186,438187,438188,438189,438190,438191},587,381,395,127},
	    {{438185},256,224,113,141},
	    {{270414},218,237,228,229},
	    {{270409},210,232,245,377},
	    {{270410,438204,438205,438206},295,267,476,401},
	},
	[77] = { -- Felwood
	    {{271673,438433,438434,438435},261,273,406,55},
	    {{271652,438436},263,199,303,9},
	    {{271665,438439},343,250,243,107},
	    {{271666,438430},345,192,220,231},
	    {{271669,438437},319,176,234,317},
	    {{271664,438438},268,214,278,359},
	    {{271663},229,210,288,458},
	    {{271659,438431},274,212,394,382},
	    {{271658},173,163,410,505},
	    {{271657},187,176,476,484},
	    {{271653},209,226,531,57},
	    {{271660,438432},307,161,471,0},
	    {{},0,0,0,0},
	},
	[78] = { -- Un'Goro Crater
	    {{440936},224,191,557,0},
	    {{440937},204,170,462,330},
	    {{440938},186,185,328,179},
	    {{440939,440940,440941,440942},337,321,565,39},
	    {{273042,273065,273050,273036},321,288,356,192},
	    {{273043,273075,273069,273061},309,277,145,226},
	    {{440943,440944,440945,440946},332,332,157,0},
	    {{273051},197,222,706,201},
	    {{273072,273039,273037,273063},263,412,573,256},
	    {{273046,273053,273071,273047},316,293,162,357},
	    {{273059,273066,273073,273054},381,274,335,384},
	    {{273052,273062,273057,273058},432,294,305,0},
	    {{},0,0,0,0},
	},
	[80] = { -- Moonglade
	    {{440652,440653,440654,440655},271,296,209,91},
	    {{440650,440651},346,244,370,135},
	    {{440656,440657,440658,440659},275,346,542,210},
	    {{252844,252845,252846,252847},431,319,219,273},
	},
	[81] = { -- Silithus
	    {{272564,272553,440720},580,213,0,455,			phase="oldsilithius"},
	    {{272567,272547,272555,272548},489,358,380,310,		phase="oldsilithius"},
	    {{272559,272543,272574,272575,440718,440719},542,367,0,206,	phase="oldsilithius"},
	    {{272580,272544},309,243,550,181,				phase="oldsilithius"},
	    {{272565,272566,272577,272546},405,267,345,4,		phase="oldsilithius"},
	    {{272581,272562},329,246,126,0,				phase="oldsilithius"},
	    {{272573,272545},434,231,100,151,				phase="oldsilithius"},
	    {{440714,440715,440716,440717},292,260,427,143,		phase="oldsilithius"},
	    {{440721,440722,440723,440724},315,285,614,0,		phase="oldsilithius"},
	    {{},0,0,0,0},
	},
	[83] = { -- Winterspring
	    {{},0,0,0,0},
	    {{273200},221,209,588,181},
	    {{273187,445593},362,252,92,302},
	    {{273203,445592},333,255,500,17},
	    {{273207,445589,445590,445591},367,340,229,33},
	    {{273199},254,150,556,439},
	    {{273185,445588},257,238,399,340},
	    {{273192,445585,445586,445587},271,258,372,268},
	    {{273206},249,217,581,314},
	    {{273191},194,229,482,195},
	    {{273202,445578,445579,445580},376,289,93,118},
	    {{273198,445584},317,183,424,474},
	    {{273184,445581,445582,445583},332,268,304,0},
	},
	[94] = { -- Eversong Woods
	    {{271632,271600,271617,271618},512,512,440,87},
	    {{271612},256,256,386,386},
	    {{271610},256,256,474,314},
	    {{271637},256,256,361,298},
	    {{},0,0,0,0},
	    {{271608},256,256,307,136},
	    {{271635},256,128,243,469},
	    {{271603},128,193,554,475},
	    {{271601},256,256,215,298},
	    {{271628},256,128,539,305},
	    {{271625},128,253,183,415},
	    {{271604},256,256,605,253},
	    {{271591},256,128,524,359},
	    {{271588},256,256,460,373},
	    {{271627},256,128,231,404},
	    {{271599},256,256,324,384},
	    {{271615},256,174,464,494},
	    {{271614},256,172,378,496},
	    {{271633},128,256,292,319},
	    {{271619,271602,271589,271638},512,512,195,5},
	    {{271586},256,256,669,228},
	    {{271630},128,256,580,399},
	    {{271598},128,197,584,471},
	    {{271592},128,248,511,420},
	    {{271587,271590},256,353,648,315},
	    {{271596},256,128,255,507},
	},
	[95] = { -- Ghostlands
	    {{271741,271723},256,512,448,150},
	    {{271735,271736},427,256,575,0},
	    {{271715,271745},429,256,573,136},
	    {{271726,271756,271727,271710},512,512,44,0},
	    {{271740,271730},256,449,340,219},
	    {{271721,271725,271714,271737},512,293,95,375},
	    {{271712,271757,271713,271734},512,431,466,237},
	    {{271711,271717},256,262,364,406},
	    {{271742,271728,271758,271706},404,436,598,232},
	    {{271729,271707},512,256,326,0},
	    {{271762,271751},256,512,365,2},
	    {{271744},256,256,184,238},
	    {{271752},256,256,40,287},
	    {{271761},256,256,585,0},
	    {{271716},256,256,210,126},
	    {{271754,271733},256,512,60,117},
	    {{271731,271719},512,256,460,0},
	},
	[97] = { -- Azuremyst Isle
	    {{270482},256,247,220,421},
	    {{270463},256,256,176,303},
	    {{270475,270515,270495,270505},512,512,74,85},
	    {{270488},256,256,365,49},
	    {{270513},256,256,383,249},
	    {{270492},256,256,174,363},
	    {{270510},256,256,291,3},
	    {{270497},128,256,462,349},
	    {{270508},256,256,449,183},
	    {{270481},256,256,352,378},
	    {{270509},256,256,281,305},
	    {{270512},256,256,507,350},
	    {{270493},256,128,356,0},
	    {{270474},256,256,488,24},
	    {{270511,270483,270489,270484},475,512,527,104},
	    {{270476},256,256,515,279},
	    {{},0,0,0,0},
	    {{270498},256,222,23,446},
	},
	[100] = { -- Hellfire Peninsula
	    {{},0,0,0,0},
	    {{271852},256,256,467,154},
	    {{271867,271842},512,256,477,6},
	    {{271826,271822},422,238,580,430},
	    {{271854,271825},256,512,737,156},
	    {{271866,271821},256,512,579,128},
	    {{271851,271841,271865,271853},512,512,38,152},
	    {{271850,271864},256,378,25,290},
	    {{271840,271849},256,512,326,45},
	    {{271835},256,256,206,110},
	    {{271848},256,256,469,298},
	    {{271855,271833},256,458,338,210},
	    {{271862,271844,271823,271831},512,342,183,326},
	    {{271838,271861},256,260,308,408},
	    {{271843},256,256,705,368},
	    {{271863,271857,271845,271839},512,512,478,25},
	    {{271856,271820},512,255,261,413},
	    {{271836},256,256,34,142},
	    {{271830},256,256,182,412},
	},
	[102] = { -- Zangarmarsh
	    {{273248,273279},512,256,20,202},
	    {{},0,0,0,0},
	    {{273224,273225},256,343,141,325},
	    {{273222},256,256,81,152},
	    {{273249,273238},256,512,569,112},
	    {{273268,273226},256,512,219,51},
	    {{273221,273269,273236,273277},512,336,314,332},
	    {{273276,273246},308,256,694,321},
	    {{273243,273273,273250,273251},286,512,716,128},
	    {{273271},256,256,512,303},
	    {{273235},256,256,88,50},
	    {{273267},256,256,175,232},
	    {{273233},256,256,342,249},
	    {{273262},256,256,31,339},
	    {{273223,273272},256,512,329,25},
	    {{273253,273242},256,512,462,90},
	    {{273280},256,256,596,412},
	    {{273241},256,128,124,0},
	    {{273266},256,207,720,461},
	},
	[104] = { -- Shadowmoon Valley
	    {{272467,272465,272422,272453},512,512,348,8},
	    {{},0,0,0,0},
	    {{272454,272426,272439,272455},512,358,343,310},
	    {{272436,272440,272441,272427},512,512,104,155},
	    {{272442,272443},492,223,510,445},
	    {{272461},256,256,554,308},
	    {{272431},256,256,143,256},
	    {{272421},256,256,520,93},
	    {{272428,272424,272433,272445},512,512,116,35},
	    {{272429,272470,272446,272450},396,512,606,126},
	    {{272451,272471},256,512,290,129},
	    {{272459,272438,272463,272447},512,512,394,90},
	    {{272448,272449,272469,272452},512,410,469,258},
	    {{272430,272460,272434,272435},512,439,168,229},
	},
	[105] = { -- Blade's Edge Mountains
	    {{270669,270657},256,297,342,371},
	    {{270609},256,256,733,109},
	    {{270649},256,256,439,210},
	    {{270644,270610},256,419,512,249},
	    {{270665},256,256,422,0},
	    {{270628,270605},416,256,586,147},
	    {{270662,270632},512,252,144,416},
	    {{270663},256,256,254,176},
	    {{270625},256,256,286,28},
	    {{270666},256,256,623,147},
	    {{270611},256,256,527,81},
	    {{270619,270620},256,507,314,161},
	    {{270631},256,256,412,95},
	    {{},0,0,0,0},
	    {{270629,270606},256,410,554,258},
	    {{270642},256,254,446,414},
	    {{270655},256,256,658,297},
	    {{270621,270633},512,256,214,55},
	    {{270612,270658},256,336,533,332},
	    {{270616,270617},256,512,479,98},
	    {{270652,270653},256,462,166,206},
	    {{270667},256,256,629,406},
	    {{270643},256,128,563,151},
	    {{270622},256,240,271,428},
	    {{270664,270659},256,396,405,272},
	    {{270651},256,256,585,0},
	    {{270638,270630},256,318,289,350},
	    {{270626},256,256,673,71},
	},
	[106] = { -- Bloodmyst Isle
	    {{270690,270729},256,512,44,62},
	    {{270733},256,256,297,136},
	    {{270674,270731},512,242,177,426},
	    {{270679},256,256,367,209},
	    {{270710},239,256,763,256},
	    {{270698},256,256,437,258},
	    {{270699},256,256,546,410},
	    {{270711,270723},485,141,517,527},
	    {{270700},256,256,414,406},
	    {{270718},256,185,309,483},
	    {{270739},256,256,250,404},
	    {{270709},256,256,613,82},
	    {{270677},256,256,598,338},
	    {{270720},256,256,481,117},
	    {{270740},256,256,556,216},
	    {{270712},256,256,657,78},
	    {{270671},128,128,180,216},
	    {{270703},256,256,232,242},
	    {{270714},256,256,637,0},
	    {{270734},256,256,451,29},
	    {{270692,270673,270702,270672},512,430,43,238},
	    {{270687},256,198,503,470},
	    {{270701},256,256,205,39},
	    {{270676},256,256,221,136},
	    {{270728},256,256,293,285},
	    {{270741},256,256,555,87},
	    {{270727},256,256,302,27},
	    {{270682},256,256,729,54},
	},
	[107] = { -- Nagrand
	    {{272213},256,256,335,193},
	    {{272188},256,256,431,143},
	    {{},0,0,0,0},
	    {{272204},256,241,558,427},
	    {{272237},256,256,351,52},
	    {{272205,272229,272190,272238},512,334,168,334},
	    {{272231},256,256,219,199},
	    {{272220},256,256,387,390},
	    {{272206},256,256,533,267},
	    {{272208},256,256,504,53},
	    {{272235},256,256,157,32},
	    {{272196,272197},256,334,660,334},
	    {{272236},256,256,532,363},
	    {{272198},256,256,162,154},
	    {{272230},256,256,391,258},
	    {{272199,272200},256,512,10,107},
	    {{272232},256,256,598,79},
	    {{272244},256,256,666,233},
	    {{272242},256,256,277,54},
	    {{272224,272233,272191,272212},512,420,36,248},
	},
	[108] = { -- Terokkar Forest
	    {{272879,272834},256,512,455,34},
	    {{272861,272831,272883,272838},512,512,104,4},
	    {{},0,0,0,0},
	    {{272839},256,256,397,165},
	    {{272880},256,256,478,19},
	    {{272878},256,256,116,4},
	    {{272886},256,256,505,154},
	    {{272876,272888,272857,272877},512,320,449,348},
	    {{272873},256,256,417,327},
	    {{272846},256,256,222,362},
	    {{272889},256,208,321,460},
	    {{272881},256,256,245,289},
	    {{272887},256,256,310,345},
	    {{272840},128,256,316,268},
	    {{272836},256,256,377,272},
	    {{272843},256,234,247,434},
	    {{272851,272867},512,256,143,171},
	    {{272860,272855,272850,272856},385,512,617,149},
	    {{272837},256,256,314,0},
	    {{272844,272847},256,367,103,301},
	    {{272866},256,256,480,277},
	    {{272835},256,256,521,275},
	},
	[109] = { -- Netherstorm
	    {{272269},256,256,396,10},
	    {{272264},256,256,481,208},
	    {{272263},256,256,229,38},
	    {{},0,0,0,0},
	    {{272262},256,256,132,294},
	    {{272260},256,256,465,336},
	    {{272288},256,179,357,489},
	    {{272279,272265},256,387,147,281},
	    {{272255},256,128,241,388},
	    {{272247},256,256,171,155},
	    {{272282},256,256,513,138},
	    {{272296,272294},512,256,354,49},
	    {{272267,272254,272268,272284},409,384,593,284},
	    {{272292},256,213,239,455},
	    {{272280},256,256,328,397},
	    {{272287},256,256,644,173},
	    {{272273},256,256,237,22},
	    {{272274},256,145,490,523},
	    {{272248},256,256,411,20},
	    {{272283},256,256,253,301},
	    {{272253},256,217,454,451},
	    {{272285},256,256,298,134},
	    {{272249},256,256,356,261},
	},
	[114] = { -- Borean Tundra
	    {{},0,0,0,0},
	    {{270826,270865,270759,270763},290,292,712,15},
	    {{270900,270819},244,319,397,66},
	    {{270761,270879,270880,270787},382,258,293,383},
	    {{270898,270840,270899,270812},385,316,509,214},
	    {{270822,270894,270835,270784},267,378,153,238},
	    {{270765,270824,270887,270801},289,279,707,181},
	    {{270821,270758,270797,270775},460,381,50,0},
	    {{270806,270810},396,203,314,0},
	    {{270785},244,214,325,140},
	    {{270851,270871,270795,270769},260,278,329,237},
	    {{270903,270781,270794,270855},259,302,457,264},
	    {{270870,270743},186,276,272,237},
	    {{270869,270890,270764,270762},375,342,480,0},
	    {{270848},203,209,662,11},
	},
	[115] = { -- Dragonblight
	    {{271205,271248,271252,271236},317,353,453,219},
	    {{271267,271201},229,299,42,187},
	    {{271378},226,212,661,264},
	    {{271280,271346,271164,271387},301,286,698,332},
	    {{},0,0,0,0},
	    {{271170},236,218,258,203},
	    {{271149,271222},235,354,569,7},
	    {{271187,271231},306,242,210,0},
	    {{271146,271257},229,259,487,0},
	    {{271232},213,219,403,0},
	    {{271358},196,218,543,362},
	    {{271239,271157},258,225,433,118},
	    {{271254,271233},235,337,134,165},
	    {{271192},188,211,374,208},
	    {{271352,271244},304,203,256,104},
	    {{271313,271133},214,261,614,358},
	    {{271333,271199,271364,271162},311,272,691,160},
	    {{271351,271270,271175,271330},299,278,703,7},
	    {{271322,271298,271290,271337},356,300,217,313},
	},
	[116] = { -- Grizzly Hills
	    {{271801,271773,271779,271806},278,290,217,244},
	    {{271789,271812},283,247,176,421},
	    {{271794,271778},274,207,18,461},
	    {{},0,0,0,0},
	    {{271809,271771,271772,271776},328,260,331,32},
	    {{271768,271783,271795,271810},332,294,17,307},
	    {{271790,271765,271766,271767},324,265,548,137},
	    {{271792,271775,271813,271797},382,285,0,46},
	    {{271791,271807,271774,271796},351,284,607,41},
	    {{271798,271780,271814,271799},455,400,547,257},
	    {{271764},249,235,232,129},
	    {{271781,271784},356,224,7,207},
	    {{271785,271817},294,227,358,187},
	    {{271803,271788,271816,271805},475,362,312,294},
	    {{271769,271770},329,246,509,0},
	},
	[117] = { -- Howling Fjord
	    {{},0,0,0,0},
	    {{271969,271989},244,305,621,327},
	    {{271946},174,173,576,170},
	    {{271992},177,191,342,351},
	    {{271986,271960},347,220,90,180},
	    {{271985,271968},248,382,477,216},
	    {{271952,271967},266,210,420,57},
	    {{271984},238,232,343,108},
	    {{271997,271998,271963,271964},284,308,415,360},
	    {{271980,271994},187,263,397,208},
	    {{271950},193,201,668,223},
	    {{271970},251,192,490,0},
	    {{271977,271978,271979,271958},298,306,572,0},
	    {{271976},213,256,283,203},
	    {{271941},232,216,585,336},
	    {{271954},242,189,225,0},
	    {{271945},178,208,595,240},
	    {{271965,271966,271972,271973},350,258,168,410},
	    {{271959},222,168,222,100},
	    {{271956,271974},223,338,664,25},
	    {{271940,271975,271953,271991},263,265,99,37},
	    {{271957},223,209,354,0},
	    {{271993},181,178,490,161},
	    {{271962,271987,271983,271988},333,265,99,278},
	},
	[118] = { -- Icecrown
	    {{294026,294027},314,224,616,30},
	    {{},0,0,0,0},
	    {{254657,254658},308,212,342,392},
	    {{254673,254674,254675,254676},393,474,22,122},
	    {{254659,254660},308,202,392,466},
	    {{254677,254678},204,268,0,167},
	    {{254679},245,239,690,267},
	    {{254653,254654,254655,254656},373,375,355,37},
	    {{254692},238,240,217,50},
	    {{254693,254694},269,217,715,390},
	    {{254695},223,207,444,276},
	    {{254687},227,210,327,305},
	    {{254684},248,243,538,181},
	    {{254690,254691},223,399,321,15},
	    {{254680,254681,254682,254683},300,343,626,31},
	    {{254685,254686},283,231,558,329},
	    {{254688,254689},219,283,218,291},
	},
	[119] = { -- Sholazar Basin
	    {{272498,272531,272510,272541},468,329,359,339},
	    {{272500,272501},293,229,396,51},
	    {{272530,272516},239,313,265,355},
	    {{},0,0,0,0},
	    {{272529,272506},233,286,705,236},
	    {{272507},249,248,172,135},
	    {{272535,272518,272490,272519},455,316,82,186},
	    {{272524},207,235,427,244},
	    {{272494,272495,272504,272533},312,369,501,134},
	    {{272521,272515,272522,272499},322,265,596,92},
	    {{272523,272487,272539,272532},294,327,308,34},
	    {{272509,272491,272520,272484},329,293,76,375},
	    {{272517,272534,272496,272502},268,288,138,58},
	},
	[120] = { -- The Storm Peaks
	    {{272909},184,191,395,470},
	    {{272933},180,239,214,144},
	    {{272906},221,200,108,206},
	    {{272920},205,232,162,143},
	    {{272921},251,200,242,468},
	    {{272922},169,164,239,301},
	    {{272912,272913,272914,272946},363,341,292,122},
	    {{272934,272923,272908,272930},306,484,627,179},
	    {{272943,272944,272931,272917},369,265,218,0},
	    {{272924},228,158,98,318},
	    {{272948,272950},322,195,109,375},
	    {{272904,272925,272926,272952},305,298,339,370},
	    {{272927,272910},182,270,570,113},
	    {{272939,272953,272905,272935},309,383,481,285},
	    {{272919},244,220,134,429},
	    {{272945},210,179,316,296},
	},
	[121] = { -- Zul'Drak
	    {{},0,0,0,0},
	    {{273295,273301,273321,273288},336,297,629,0},
	    {{273311,273297,273331,273317},286,265,326,358},
	    {{273330,273291},266,254,289,287},
	    {{273329},237,248,288,168},
	    {{273322,273320},247,304,431,127},
	    {{273309,273286,273310,273328},261,288,607,251},
	    {{273325,273307,273308,273319},311,317,575,88},
	    {{273296,273300,273285,273287},265,257,533,345},
	    {{273304,273305},249,258,479,241},
	    {{273326,273333},307,256,7,412},
	    {{273323,273289},302,231,380,437},
	    {{273312,273332,273282,273302},321,305,181,363},
	    {{273318,273298,273336,273303},272,268,0,247},
	    {{273324,273292},218,291,174,191},
	},
	[122] = { -- Isle of Quel'Danas
	    {{},0,0,0,0},
	    {{272716,272728,272723,272733},512,512,251,4},
	    {{272721,272732,272715,272722},512,416,252,252},
	},
	[123] = { -- Wintergrasp
	    {{},0,0,0,0},
	},
	[127] = { -- Crystalsong Forest
	    {{270970,270961,270971,270996},416,424,0,244},
	    {{253268,271000},288,222,0,0},
	    {{253267,270960,270995,270989},446,369,536,40},
	    {{253264,271003,270968,270965,253265,253266,271002,271004,270984},544,668,129,0},
	    {{253271,253272,270974,270975,271001,270980},558,285,444,383},
	    {{270987,270962,270973,270997},264,303,0,176},
	    {{270966,271005},252,260,0,91},
	    {{253269,270985,253270,270986},502,477,500,105},
	    {{},0,0,0,0},
	},
	[198] = { -- Mount Hyjal
	    {{438682,438683,438684,438685},419,290,318,378},
	    {{438636,438637,438638,438639},282,418,6,78},
	    {{438640,438641,438642,438643},320,471,682,128},
	    {{438646,438647,438648,438649},272,334,622,320},
	    {{438662,438663,438664,438665,438666,438667},537,323,392,0},
	    {{438668,438669},277,232,139,436},
	    {{438670,438671,438672,438673},291,321,116,17},
	    {{438678,438679,438680,438681},365,264,411,216},
	    {{438674,438675,438676,438677},441,319,52,253},
	    {{},0,0,0,0},
	    {{438632,438633,438634,438635},270,300,320,5},
	    {{438644,438645},270,173,303,197},
	    {{438686,438687,438688,438689},270,300,320,5},
	    {{438736,438737,438738,438739},419,290,318,378},
	    {{438732,438733,438734,438735},365,264,411,216},
	    {{438724,438725,438726,438727},291,321,116,17},
	    {{438716,438717,438718,438719,438720,438721},537,323,392,0},
	},
	[199] = { -- Southern Barrens
	    {{},0,0,0,0},
	    {{440745,440746},269,211,398,457},
	    {{440747,440748},384,248,274,307},
	    {{440749},216,172,423,251},
	    {{440750},242,195,269,436},
	    {{440753},218,178,300,64},
	    {{440754,440755,440756,440757},280,279,548,147},
	    {{440759,440760},285,171,244,286},
	    {{440761,440762},355,226,289,117},
	    {{440763},254,214,267,196},
	    {{440751,440752},315,170,201,0},
	    {{440758},214,140,273,528},
	},
	[201] = { -- Kelp'thar Forest
	    {{},0,0,0,0},
	    {{440974},220,189,528,228},
	    {{440988,440989},340,225,365,162},
	    {{440984,440985,440986,440987},278,315,210,35},
	    {{440982,440983},291,206,380,43},
	    {{440978,440979,440980,440981},316,267,456,401},
	    {{440977},227,207,399,280},
	    {{440975,440976},311,217,451,325},
	},
	[204] = { -- Abyssal Depths
	    {{},0,0,0,0},
	    {{440973},225,250,415,183},
	    {{440969,440970,440971,440972},306,293,162,210},
	    {{440965,440966,440967,440968},370,385,412,283},
	    {{440963,440964},298,251,315,110},
	    {{440959,440960,440961,440962},363,262,275,32},
	    {{440955,440956,440957,440958},267,374,266,280},
	    {{440951,440952,440953,440954},491,470,497,0},
	    {{440947,440948,440949,440950},371,394,50,263},
	},
	[205] = { -- Shimmering Expanse
	    {{441007,441008,441009,441010},480,319,150,32},
	    {{441003,441004,441005,441006},339,278,400,0},
	    {{440999,441000,441001,441002},349,361,217,268},
	    {{440998},197,223,554,175},
	    {{440994,440995,440996,440997},286,269,460,261},
	    {{440992,440993},272,180,270,222},
	    {{440990,440991},335,223,407,445},
	    {{},0,0,0,0},
	},
	[207] = { -- Deepholm
	    {{},0,0,0,0},
	    {{438312},237,198,297,384},
	    {{438310,438311},411,248,570,420},
	    {{438308,438309},430,230,141,438},
	    {{438306,438307},274,156,434,0},
	    {{438302,438303,438304,438305},467,273,85,0},
	    {{438298,438299,438300,438301},355,345,287,177},
	    {{438294,438295,438296,438297},292,285,458,383},
	    {{438290,438291,438292,438293},371,354,0,314},
	    {{438284,438285,438286,438287,438288,438289},516,287,448,0},
	    {{438280,438281,438282,438283},370,285,0,146},
	    {{438276,438277,438278,438279},378,359,20,0},
	    {{438272,438273,438274,438275},454,343,549,297},
	    {{438268,438269,438270,438271},462,400,540,12},
	},
	[210] = { -- The Cape of Stranglethorn
	    {{},0,0,0,0},
	    {{438740},225,255,289,341},
	    {{438741,438742},271,204,528,73},
	    {{438743,438744},238,260,345,0},
	    {{438747,438748},240,264,471,404},
	    {{438749},253,242,408,248},
	    {{438750},246,221,292,213},
	    {{438751},184,176,533,181},
	    {{438745,438746},356,221,208,116},
	    {{438752},155,221,468,119},
	    {{438753},244,209,452,0},
	    {{438754,438755},236,276,340,392},
	},
	[241] = { -- Twilight Highlands
	    {{458546},215,157,416,205},
	    {{458547},203,208,387,268},
	    {{458548},182,195,370,447},
	    {{458549,458550},283,206,76,120},
	    {{458551},251,207,631,245},
	    {{458552},197,218,395,367},
	    {{458553},215,181,499,265},
	    {{458554},174,190,291,89},
	    {{458555},194,170,543,220},
	    {{458556,458557},230,276,83,223},
	    {{458558},220,227,697,403},
	    {{458559},239,232,482,330},
	    {{458560},143,141,344,89},
	    {{458561,458562,458563,458564},308,267,482,0},
	    {{458565,458566,458567,458568},342,288,436,380},
	    {{458569},206,182,296,0},
	    {{458570},198,201,622,169},
	    {{458571},211,210,498,121},
	    {{458572},175,180,269,179},
	    {{458573},226,232,654,0},
	    {{458574},199,212,312,192},
	    {{458575,458576,458577,458578},361,354,151,314},
	    {{458580},238,229,374,93},
	    {{458581,458582},260,202,610,345},
	    {{458583,458584,458585,458586},324,264,71,16},
	    {{458587},177,159,302,306},
	    {{458589},191,198,205,232},
	    {{458588},214,190,358,0},
	    {{},0,0,0,0},
	    {{458579},165,199,327,356},
	},
	[249] = { -- Uldum
	    {{458715},151,144,479,215},
	    {{458701,458702},270,229,229,433},
	    {{458700},213,195,656,473},
	    {{458699},206,204,657,349},
	    {{458698},161,236,647,15},
	    {{458696,458697},237,316,752,170},
	    {{458694,458695},296,209,132,127},
	    {{458693},150,159,545,193},
	    {{458689,458690,458691,458692},312,289,28,221},
	    {{458688},203,249,217,289},
	    {{458686,458687},278,173,365,0},
	    {{},0,0,0,0},
	    {{458685},228,227,411,67},
	    {{458684},249,243,264,136},
	    {{458682,458683},269,203,340,282},
	    {{458681},196,170,551,121},
	    {{458679,458680},400,224,110,0},
	    {{458678},209,254,407,384},
	    {{458677},237,194,583,162},
	    {{458676},160,193,406,174},
	    {{458674,458675},233,321,527,291},
	    {{458673},203,215,542,0},
	    {{458671,458672},269,242,599,184},
	    {{458670},202,169,341,402},
	    {{458669},164,185,471,277},
	},
	[371] = { -- The Jade Forest
	    {{614275},227,198,300,56},
	    {{614276},234,210,325,178},
	    {{614277},218,148,474,520},
	    {{614278},202,204,430,21},
	    {{614279,614280,614281,614282},278,310,525,358},
	    {{614283},253,229,182,214},
	    {{614284},196,166,181,75},
	    {{614285},236,142,400,146},
	    {{614286},219,256,290,330},
	    {{614287},219,205,189,151},
	    {{614288},196,158,316,0},
	    {{614289},191,216,388,299},
	    {{614290},179,180,428,416},
	    {{614291,614292},264,211,468,295},
	    {{614293},242,210,481,215},
	    {{614294},219,186,346,482},
	    {{614295,614296},251,348,539,43},
	    {{},0,0,0,0},
	    {{614297},210,158,202,0},
	},
	[376] = { -- Valley of the Four Winds
	    {{},0,0,0,0},
	    {{615437,615438,615439,615440},303,323,699,114},
	    {{615433,615434,615435,615436},380,317,622,0},
	    {{615429,615430,615431,615432},286,392,253,75},
	    {{615425,615426,615427,615428},257,288,227,380},
	    {{615423,615424},175,291,170,130},
	    {{615419,615420},277,245,582,301},
	    {{615398,615399,615400,615401},510,264,215,404},
	    {{615402,615403},209,308,0,343},
	    {{615404,615405},208,292,438,41},
	    {{615406,615407},314,212,334,325},
	    {{615408},206,245,438,177},
	    {{615409,615410},260,251,5,239},
	    {{615411,615412},199,304,224,74},
	    {{615413},230,217,561,161},
	    {{615414,615415},249,342,104,326},
	    {{615416,615417},273,246,12,105},
	    {{615418},213,246,513,58},
	    {{615421,615422},254,259,530,253},
	},
	[379] = { -- Kun-Lai Summit
	    {{},0,0,0,0},
	    {{614361,614362},250,260,587,170},
	    {{614363,614364,614365,614366},310,276,398,310},
	    {{614367},224,241,453,191},
	    {{614368,614369},298,219,502,64},
	    {{614357,614358,614359,614360},385,385,88,92},
	    {{614353,614354,614355,614356},287,277,333,63},
	    {{614351,614352},229,262,603,313},
	    {{614349,614350},313,208,228,264},
	    {{614348},253,208,462,411},
	    {{614346,614347},252,257,233,360},
	    {{614344,614345},259,233,602,4},
	    {{614342,614343},261,162,449,506},
	    {{614341},224,172,322,496},
	    {{614340},240,198,607,470},
	},
	[388] = { -- Townlong Steppes
	    {{},0,0,0,0},
	    {{614370,614371},353,200,546,468},
	    {{614372,614373},255,269,420,209},
	    {{614374},247,221,417,447},
	    {{614375,614376,614377,614378},296,359,213,241},
	    {{614379,614380},238,296,560,185},
	    {{614381,614382,614383,614384},282,306,692,362},
	    {{614385},213,170,413,385},
	    {{614386,614387},300,246,125,0},
	    {{614388,614389},261,235,306,433},
	    {{614390,614391,614392,614393},294,283,92,192},
	    {{614394,614395},271,205,545,369},
	},
	[390] = { -- Vale of Eternal Blossoms
	    {{614431,614432,614433,614434},337,349,87,3},
	    {{614435,614436,614437,614438},310,305,200,363},
	    {{614439,614440,614441,614442},373,385,629,22},
	    {{614443,614444,614445,614446},350,429,0,234},
	    {{614447},242,254,328,16},
	    {{614448,614449,614450,614451},446,359,556,267},
	    {{614452,614453,614454,614455,614456,614457},272,522,444,97},
	    {{614458,614459,614460,614461},267,308,349,316},
	    {{614462,614463,614464,614465},298,262,482,10},
	    {{614466,614467,614468,614469},267,281,278,170},
	    {{614470,614471,614472,614473},361,333,4,107},
	    {{},0,0,0,0},
	},
	[418] = { -- Krasarang Wilds
	    {{660529,660530},306,204,612,0},
	    {{},0,0,0,0},
	    {{660527,660528},258,170,330,498},
	    {{660490,660491,660492,660493},295,293,701,19},
	    {{660523,660524,660525,660526},275,329,0,267},
	    {{660506,660507},217,279,589,27},
	    {{660519,660520,660521,660522},257,300,0,79},
	    {{660517,660518},188,412,397,59},
	    {{660515,660516},219,259,300,215},
	    {{660513,660514},211,395,125,88},
	    {{660511,660512},204,383,444,44},
	    {{660508},246,240,343,373},
	    {{660488,660489},214,393,218,77},
	    {{660486,660487},190,282,513,3},
	    {{660509,660510},212,265,317,63},
	    {{660484,660485},272,250,176,376},
	    {{660482,660483},347,199,545,200},
	},
	[422] = { -- Dread Wastes
	    {{},0,0,0,0},
	    {{642687,642688,642689,642690},290,283,162,385},
	    {{642686},209,234,593,92},
	    {{642684,642685},268,241,450,406},
	    {{642683},218,186,236,32},
	    {{642681,642682},325,190,485,0},
	    {{642680},236,206,458,110},
	    {{642678,642679},323,194,441,224},
	    {{642674,642675,642676,642677},262,293,191,122},
	    {{642672,642673},322,211,437,313},
	    {{642670,642671},209,318,341,125},
	    {{642666,642667,642668,642669},325,270,214,311},
	    {{642665},250,218,351,0},
	},
	[433] = { -- The Veiled Stair
	    {{615054,615055},290,191,412,477},
	    {{614718,614719},294,220,433,0},
	    {{614714,614715,614716,614717},479,493,371,175},
	},
	[504] = { -- Isle of Thunder
	    {{800842,800843,800844,800845},278,325,183,95},
	    {{800841,804116,804117,804118},490,290,256,378},
	},
	[516] = { -- Isle of Thunder
	    {{803901,839100,839101,839102},490,290,256,378},
	    {{803902,803903,803904,803905},278,325,183,95},
	},
	[525] = { -- Frostfire Ridge
	    {{},0,0,0,0},
	    {{1126503,1126504,1126505,1126506},267,257,336,327},
	    {{1003360,1003361},317,233,72,292},
	    {{1003356,1003357,1003358,1003359},266,293,439,137},
	    {{1003355},256,210,290,192},
	    {{1003354},251,191,306,281},
	    {{1003346,1003347},199,335,641,304},
	    {{1003352,1003353},213,278,609,33},
	    {{1003348,1003349,1003350,1003351},329,294,673,156},
	    {{1003341},217,239,483,33},
	    {{1003336},178,203,597,210},
	    {{1003334,1003335},274,214,121,0},
	    {{1003333},255,191,284,91},
	    {{1003329,1003330,1003331,1003332},273,349,729,319},
	    {{1003337,1003338,1003339,1003340},282,341,505,323},
	    {{1003323,1003324,1003325,1003326},356,303,38,117},
	    {{1003327,1003328},258,217,311,4},
	    {{1027472,1027473,1027474,1027475},267,257,336,327},
	},
	[534] = { -- Tanaan Jungle
	    {{1126680,1126681,1126682,1126683},333,437,637,136},
	    {{1126684},174,208,81,367},
	    {{1126685,1126686,1126687,1126688},343,264,429,392},
	    {{1126689},223,183,392,187},
	    {{1126692},209,245,0,264},
	    {{1126693,1126694},189,294,303,62},
	    {{1126695,1126696,1126697,1126698},365,276,392,23},
	    {{1126699,1126700},338,254,54,94},
	    {{1126701,1126702},270,208,465,313},
	    {{1126703},246,218,296,383},
	    {{1126704,1126705},248,314,170,354},
	    {{1126706},238,229,501,171},
	    {{1126707,1126708},274,251,118,194},
	    {{1126690,1126691},327,241,254,262},
	},
	[535] = { -- Talador
	    {{},0,0,0,0},
	    {{1036474,1036475,1036476,1036477},287,277,713,35},
	    {{1036473},225,224,472,148},
	    {{1036471,1036472},326,212,352,271},
	    {{1036469,1036470},497,157,207,511},
	    {{1036465,1036466,1036467,1036468},406,367,173,22},
	    {{1036461,1036462,1036463,1036464},308,276,685,298},
	    {{1036457,1036458,1036459,1036460},279,267,427,0},
	    {{1036455,1036456},398,149,571,0},
	    {{1036451,1036452,1036453,1036454},278,270,165,364},
	    {{1036447,1036448,1036449,1036450},423,290,548,378},
	    {{1036445,1036446},292,235,567,42},
	    {{1036443,1036444},307,229,150,264},
	    {{1036441,1036442},252,280,546,228},
	    {{1036437,1036438,1036439,1036440},309,262,338,356},
	    {{1036435,1036436},389,234,597,178},
	},
	[539] = { -- Shadowmoon Valley
	    {{},0,0,0,0},
	    {{1037674,1037675},223,279,194,0},
	    {{1037651,1037652,1037653,1037654},309,264,140,160},
	    {{1037655,1037656},282,201,468,467},
	    {{1037657,1037658,1037659,1037660},291,266,426,0},
	    {{1037661,1037662},346,252,270,158},
	    {{1037665},229,240,319,5},
	    {{1037666,1037667,1037668,1037669},260,309,26,0},
	    {{1037670,1037671,1037672,1037673},393,318,537,150},
	    {{1037677,1037678},282,225,259,315},
	    {{1037679,1037680,1037681,1037682},288,261,453,306},
	    {{1037683},202,201,383,411},
	    {{1037676},173,160,309,460},
	},
	[542] = { -- Spires of Arak
	    {{1037694,1037695,1037696,1037697},314,304,102,0},
	    {{},0,0,0,0},
	    {{1037698,1037699},238,295,520,127},
	    {{1037700,1037701},371,174,289,0},
	    {{1037702,1037703},196,284,429,84},
	    {{1037704},169,178,374,276},
	    {{1037705},197,179,310,328},
	    {{1037706},252,230,281,83},
	    {{1037707},198,232,521,268},
	    {{1037708},226,193,465,475},
	    {{1037709},229,213,197,198},
	    {{1037690,1037691,1037692,1037693},382,274,459,0},
	    {{1037689},190,187,282,261},
	    {{1037688},182,244,649,155},
	    {{1037687},217,224,533,382},
	    {{1037686},188,190,444,255},
	    {{1037685},229,246,410,350},
	    {{1037684},209,154,334,210},
	},
	[543] = { -- Gorgrond
	    {{},0,0,0,0},
	    {{1036393,1036394},262,221,451,372},
	    {{1036392},250,232,312,77},
	    {{1036391},208,142,275,416},
	    {{1036390},217,178,259,335},
	    {{1036389},253,198,444,323},
	    {{1036387,1036388},315,180,350,0},
	    {{1036382},209,225,411,250},
	    {{1036383,1036384,1036385,1036386},285,323,547,73},
	    {{1036380,1036381},279,241,258,213},
	    {{1036379},217,180,454,183},
	    {{1036378},211,221,455,74},
	    {{1036376,1036377},297,181,281,444},
	    {{1036375},210,193,525,260},
	    {{1036374},166,161,383,371},
	    {{1036372,1036373},324,161,283,507},
	},
	[550] = { -- Nagrand
	    {{1036395},234,191,239,259},
	    {{1036396,1036397},305,227,256,12},
	    {{1036398,1036399,1036400,1036401},286,274,588,0},
	    {{1036404,1036405},236,372,766,118},
	    {{1036406,1036407,1036408,1036409},471,437,0,0},
	    {{1036410},236,242,283,354},
	    {{1036411,1036412},316,221,382,187},
	    {{1036402,1036403},256,301,600,367},
	    {{1036413,1036414},249,288,753,380},
	    {{1036415,1036416},250,287,746,25},
	    {{1036417,1036418,1036419,1036420},262,266,366,323},
	    {{1036421,1036422,1036423,1036424},263,287,430,0},
	    {{1036425,1036426,1036427,1036428},354,315,523,159},
	    {{1036429,1036430},274,254,312,98},
	    {{1036431,1036432,1036433,1036434},296,272,461,353},
	    {{},0,0,0,0},
	},
	[630] = { -- Azsuna
	    {{1414546,1414547},288,195,477,0},
	    {{1414545},181,243,481,340},
	    {{1414543,1414544},220,288,523,233},
	    {{1414541,1414542},206,266,396,244},
	    {{1414539,1414540},272,192,441,173},
	    {{1414537,1414538},315,185,257,0},
	    {{1414535,1414536},351,245,219,69},
	    {{1414531,1414532,1414533,1414534},321,267,281,401},
	    {{1414530},247,184,450,95},
	    {{1414528,1414529},239,303,594,0},
	    {{1414524,1414525,1414526,1414527},330,265,166,202},
	},
	[634] = { -- Stormheim
	    {{1414620,1414621},291,208,316,282},
	    {{1414619},180,160,510,118},
	    {{1414618},177,169,506,345},
	    {{1414617,1417748},289,172,689,0},
	    {{1414616},194,214,592,226},
	    {{1414615},135,162,623,81},
	    {{1414614},241,194,345,95},
	    {{1414613},150,180,741,313},
	    {{1414611,1414612},509,251,17,0},
	    {{1414605,1414606,1414607,1414608,1414609,1414610},631,315,0,353},
	    {{1414604},200,174,612,187},
	    {{1414602,1414603},252,280,585,372},
	    {{1414601},173,163,648,339},
	    {{1414600},132,145,689,266},
	    {{1414599},215,247,457,412},
	    {{1414597,1414598},297,210,154,129},
	    {{1414596},199,185,361,210},
	    {{1414622},205,199,479,183},
	    {{1414623},186,158,522,288},
	    {{1414624,1414625,1414626,1414627},386,314,56,185},
	},
	[641] = { -- Val'sharah
	    {{1414665},241,240,587,250},
	    {{1414666},250,253,262,175},
	    {{1414667,1414668},311,244,259,275},
	    {{1414669,1414670,1414671,1414672},294,364,283,0},
	    {{1414673,1414674},239,301,136,274},
	    {{1414675},171,150,457,351},
	    {{1414676},177,156,467,413},
	    {{1414677,1414678,1414679,1414680},274,344,610,18},
	    {{1414681,1414682},254,281,549,380},
	    {{1414683,1414684,1414685,1414686},326,360,419,0},
	    {{1414687,1414688},341,188,324,480},
	    {{1414690},218,168,342,416},
	    {{1414689},216,219,459,240},
	},
	[646] = { -- Broken Shore
	    {{1597371,1597184,1597183,1597170},387,314,312,302},
	    {{1597370},182,245,220,260},
	    {{1597181,1597168,1597171,1597187},338,270,389,180},
	    {{1597169,1597369,1597185,1597180},338,322,254,84},
	    {{1597172,1597166},276,213,350,13},
	    {{1414560,1414561,1414562,1414563},312,301,500,0},
	    {{1597182,1597179,1597167,1597186},332,276,596,100},
	    {{1414556,1414557},308,244,632,169},
	},
	[650] = { -- Highmountain
	    {{1414564,1414565},297,250,307,75},
	    {{1414566,1414567},256,326,172,31},
	    {{1414568},186,213,391,408},
	    {{1414569,1414570,1414571,1414572},288,258,452,410},
	    {{1414573,1414574,1414575,1414576},344,295,0,244},
	    {{1414577},217,148,323,249},
	    {{1414578,1414579},214,308,314,360},
	    {{1414580,1414581},207,302,469,45},
	    {{1414582,1414583},283,170,331,0},
	    {{1414584,1414585},311,229,357,179},
	    {{1414586,1414587,1414588,1414589},341,328,494,236},
	    {{1414590,1414591,1414592,1414593},445,326,0,342},
	    {{1414594},244,199,332,302},
	    {{1414595},172,204,249,236},
	},
	[680] = { -- Suramar
	    {{1414661,1414662,1414663,1414664},387,372,327,0},
	    {{1414657,1414658,1414659,1414660},470,337,390,331},
	    {{1414656},221,224,264,226},
	    {{1414652,1414653,1414654,1414655},428,316,201,0},
	    {{1414650,1414651},480,245,58,0},
	    {{1414644,1414645,1414646,1414647,1414648,1414649},419,538,583,0},
	    {{},0,0,0,0},
	    {{1414640,1414641,1414642,1414643},355,291,344,285},
	    {{1414636,1414637,1414638,1414639},289,363,183,305},
	    {{1414634,1414635},248,317,23,136},
	    {{1414630,1414631,1414632,1414633},327,381,492,0},
	    {{1414628,1414629},222,311,132,179},
	},
	[830] = { -- Krokuun
	    {{1710664,1710665,1710666,1710667,1710668,1710669},498,530,37,138},
	    {{1710660,1710661,1710662,1710663},445,379,557,289},
	    {{1710652,1710653,1710654,1710655,1710656,1710657,1710658,1710659},835,422,167,0},
	    {{1710648,1710649,1710650,1710651},307,304,428,364},
	    {{1710644,1710645,1710646,1710647},296,336,371,178},
	},
	[882] = { -- Mac'Aree
	    {{1710616,1710617,1710618,1710619},313,353,498,111},
	    {{1710620,1710621,1710622,1710623},265,310,278,284},
	    {{1710624,1710625,1710626,1710627,1710628,1710629},463,519,265,54},
	    {{1710638,1710639,1710640,1710641,1710642,1710643},701,323,0,0},
	    {{1710634,1710635,1710636,1710637},284,264,410,375},
	    {{1710630,1710631,1710632,1710633},498,461,0,0},
	},
	[885] = { -- Antoran Wastes
	    {{1710612,1710613,1710614,1710615},467,430,535,238},
	    {{1710603,1710604,1710605,1710606,1710607,1710608,1710609,1710610,1710611},660,668,0,0},
	    {{1710597,1710598,1710599,1710600,1710601,1710602},626,385,293,0},
	},
	[1181] = { -- Zuldazar
	    {{2034211,2034215,2034216,2034217,2034218,2034219,2034220,2034221,2034222,2034212,2034213,2034214},793,668,2685,633},
	    {{2034162,2034173,2034184,2034195,2034206,2034207,2034208,2034209,2034210,2034163,2034164,2034165,2034166,2034167,2034168,2034169,2034170,2034171,2034172,2034174,2034175,2034176,2034177,2034178,2034179,2034180,2034181,2034182,2034183,2034185,2034186,2034187,2034188,2034189,2034190,2034191,2034192,2034193,2034194,2034196,2034197,2034198,2034199,2034200,2034201,2034202,2034203,2034204,2034205},1650,1565,321,378},
	    {{2034223,2034230,2034231,2034232,2034233,2034234,2034235,2034236,2034237,2034224,2034225,2034226,2034227,2034228,2034229},1130,672,1357,0},
	    {{2034238,2034245,2034246,2034247,2034248,2034249,2034250,2034251,2034252,2034239,2034240,2034241,2034242,2034243,2034244},699,1207,1815,260},
	    {{2034253,2034261,2034262,2034263,2034264,2034265,2034266,2034267,2034268,2034254,2034255,2034256,2034257,2034258,2034259,2034260},934,830,2325,1270},
	    {{2034293,2034304,2034314,2034315,2034316,2034317,2034318,2034319,2034320,2034294,2034295,2034296,2034297,2034298,2034299,2034300,2034301,2034302,2034303,2034305,2034306,2034307,2034308,2034309,2034310,2034311,2034312,2034313},943,1559,2144,0},
	    {{2034321,2034329,2034330,2034331,2034332,2034333,2034334,2034335,2034336,2034322,2034323,2034324,2034325,2034326,2034327,2034328},769,967,2107,327},
	    {{2034337,2034348,2034354,2034355,2034356,2034357,2034358,2034359,2034360,2034338,2034339,2034340,2034341,2034342,2034343,2034344,2034345,2034346,2034347,2034349,2034350,2034351,2034352,2034353},999,1344,1825,1216},
	    {{2034269,2034280,2034286,2034287,2034288,2034289,2034290,2034291,2034292,2034270,2034271,2034272,2034273,2034274,2034275,2034276,2034277,2034278,2034279,2034281,2034282,2034283,2034284,2034285},888,1512,1312,82},
	    {{2034370,2034381,2034392,2034394,2034395,2034396,2034397,2034398,2034399,2034371,2034372,2034373,2034374,2034375,2034376,2034377,2034378,2034379,2034380,2034382,2034383,2034384,2034385,2034386,2034387,2034388,2034389,2034390,2034391,2034393},1243,1287,1046,1273},
	    {{2034400,2034408,2034409,2034410,2034411,2034412,2034413,2034414,2034415,2034401,2034402,2034403,2034404,2034405,2034406,2034407},979,912,2409,0},
	    {{2034361,2034362,2034363,2034364,2034365,2034366,2034367,2034368,2034369},726,617,2631,1023},
	},
}


Foglight.DataProvider.blizz_overlays = {}

Foglight.DataProvider.name = "ZygorFoglightDataProvider"


function Foglight.DataProvider:OnAdded(mapCanvas)
	MapCanvasDataProviderMixin.OnAdded(self, mapCanvas);
	-- a single permanent pin
	local pin = self:GetMap():AcquirePin("ZygorFogLightPinTemplate");
	pin:SetPosition(0.5, 0.5);
	self.pin = pin;

end

function Foglight.DataProvider:OnRemoved(mapCanvas)
	MapCanvasDataProviderMixin.OnRemoved(self, mapCanvas);
	--self:GetMap():RemoveAllPinsByTemplate("ZygorFogLightPinTemplate"); -- for some reason this errors out, and if disabled overlays hide fine...
end

function Foglight.DataProvider:OnShow()
	self:RegisterEvent("MAP_EXPLORATION_UPDATED");
end

function Foglight.DataProvider:OnHide()
	self:UnregisterEvent("MAP_EXPLORATION_UPDATED");
	self.pin:RemoveAllData()
end

function Foglight.DataProvider:OnEvent(event, ...)
	if event == "MAP_EXPLORATION_UPDATED" then
		self:RefreshAllData();
	end
end

function Foglight.DataProvider:OnMapChanged()
	local fullUpdate = true;
	self.pin:RefreshOverlays(fullUpdate);
end

function Foglight.DataProvider:RemoveAllData()
	self.pin:RemoveAllData();
end

function Foglight.DataProvider:RefreshAllData(fromOnShow)
	self.pin:RefreshOverlays(fromOnShow);
end

function Foglight.DataProvider:OnGlobalAlphaChanged()
	if not self.isWaitingForLoad then
		self.pin:RefreshAlpha();
	end
end

--[[ THE Pin ]]--
ZygorFogLightPinMixin = CreateFromMixins(MapCanvasPinMixin);

function ZygorFogLightPinMixin:OnLoad()
	self:SetIgnoreGlobalPinScale(true);
	self:UseFrameLevelType("PIN_FRAME_LEVEL_MAP_EXPLORATION");
	self.overlayTexturePool = CreateTexturePool(self, "ARTWORK", 0);
	self.highlightRectPool = CreateTexturePool(self, "ARTWORK", 0);		-- could be frames, but textures are lighter
	self.textureLoadGroup = CreateFromMixins(TextureLoadingGroupMixin);
end

function ZygorFogLightPinMixin:RemoveAllData()
	self.overlayTexturePool:ReleaseAll();
	self.highlightRectPool:ReleaseAll();
	self.textureLoadGroup:Reset();
	self.isWaitingForLoad = nil;
end

function ZygorFogLightPinMixin:RefreshAlpha()
	self:SetAlpha(self:GetMap():GetGlobalAlpha());
end

function ZygorFogLightPinMixin:OnUpdate(elapsed)
	if self.isWaitingForLoad and self:GetMap():AreDetailLayersLoaded() and self.textureLoadGroup:IsFullyLoaded() then
		self:RefreshAlpha();
		self.isWaitingForLoad = nil;
		self.textureLoadGroup:Reset();
	end
end

function ZygorFogLightPinMixin:RefreshOverlays(fullUpdate)
	self:RemoveAllData();
	if fullUpdate then
		self.isWaitingForLoad = true;
		self:SetAlpha(0);
	end

	local mapID = self:GetMap():GetMapID();

	local our_overlays = Foglight.DataProvider.data[mapID]
	if not our_overlays then return end

	-- Get Blizzard overlays
	local exploredMapTextures = C_MapExplorationInfo.GetExploredMapTextures(mapID);

	-- Mark already used overlays
	table.wipe(Foglight.DataProvider.blizz_overlays)
	if exploredMapTextures then
		for i,v in pairs(exploredMapTextures) do
			if v.fileDataIDs[1] then
				Foglight.DataProvider.blizz_overlays[v.fileDataIDs[1]] = true
			end
		end
	end
	
	-- remove them from our data, since they are already visible
	for i,overlay in pairs(our_overlays) do
		if Foglight.DataProvider.blizz_overlays[overlay[1][1]] then
			table.remove(our_overlays,i)
		end
	end

	
	self.layerIndex = self:GetMap():GetCanvasContainer():GetCurrentLayerIndex();
	local layers = C_Map.GetMapArtLayers(mapID);
	local layerInfo = layers[self.layerIndex];
	local TILE_SIZE_WIDTH = layerInfo.tileWidth;
	local TILE_SIZE_HEIGHT = layerInfo.tileHeight;

	for i, exploredTextureInfo in ipairs(our_overlays) do
		local numTexturesWide = ceil(exploredTextureInfo[2]/TILE_SIZE_WIDTH);
		local numTexturesTall = ceil(exploredTextureInfo[3]/TILE_SIZE_HEIGHT);
		local texturePixelWidth, textureFileWidth, texturePixelHeight, textureFileHeight;
		if not exploredTextureInfo.phase or ZGV.InPhase(exploredTextureInfo.phase) then
			for j = 1, numTexturesTall do
				if ( j < numTexturesTall ) then
					texturePixelHeight = TILE_SIZE_HEIGHT;
					textureFileHeight = TILE_SIZE_HEIGHT;
				else
					texturePixelHeight = mod(exploredTextureInfo[3], TILE_SIZE_HEIGHT);
					if ( texturePixelHeight == 0 ) then
						texturePixelHeight = TILE_SIZE_HEIGHT;
					end
					textureFileHeight = 16;
					while(textureFileHeight < texturePixelHeight) do
						textureFileHeight = textureFileHeight * 2;
					end
				end
				for k = 1, numTexturesWide do
					local texture = self.overlayTexturePool:Acquire();
					if ( k < numTexturesWide ) then
						texturePixelWidth = TILE_SIZE_WIDTH;
						textureFileWidth = TILE_SIZE_WIDTH;
					else
						texturePixelWidth = mod(exploredTextureInfo[2], TILE_SIZE_WIDTH);
						if ( texturePixelWidth == 0 ) then
							texturePixelWidth = TILE_SIZE_WIDTH;
						end
						textureFileWidth = 16;
						while(textureFileWidth < texturePixelWidth) do
							textureFileWidth = textureFileWidth * 2;
						end
					end
					texture:SetWidth(texturePixelWidth);
					texture:SetHeight(texturePixelHeight);
					texture:SetTexCoord(0, texturePixelWidth/textureFileWidth, 0, texturePixelHeight/textureFileHeight);
					texture:SetPoint("TOPLEFT", exploredTextureInfo[4] + (TILE_SIZE_WIDTH * (k-1)), -(exploredTextureInfo[5] + (TILE_SIZE_HEIGHT * (j - 1))));
					texture:SetTexture(exploredTextureInfo[1][((j - 1) * numTexturesWide) + k]);

					texture:SetDrawLayer("ARTWORK", 0);
					texture:Show();
				end
			end
		end
	end
end

function ZygorFogLightPinMixin:OnCanvasScaleChanged()
	if self.layerIndex ~= self:GetMap():GetCanvasContainer():GetCurrentLayerIndex() then
		self:RefreshOverlays();
	end
end

function ZygorFogLightPinMixin:OnCanvasSizeChanged()
	self:SetSize(self:GetMap():DenormalizeHorizontalSize(1.0), self:GetMap():DenormalizeVerticalSize(1.0));
end